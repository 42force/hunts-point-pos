<h3 class="text-center"><a href="#/pos">POS</a></h3>

<!-- Update Inventory -->
<button class="btn btn-info" ng-click="refreshInventory()">
	<i class="glyphicon glyphicon-refresh"></i> Inventory
</button>
<small>Last Updated: {{ inventoryLastUpdated | date: 'short' }}</small>
<!-- Update Inventory -->

<div class="pull-right">
	Total: <span class="text-success">{{ cart.total | currency }}</span>
	<checkout cart-total="cart.total" print-receipt="printReceipt(payment)"></checkout>
</div>

<br/><br/>
<br/><br/>

<table class="col-md-12 table table-hover table-striped">
	<thead>
		<tr>
			<td colspan="2">
				<!-- Barcode Input -->
				<barcode-scanner class="col-md-8" validate-product="isValidProduct(barcode)" add-product="addProductToCart(barcode)"></barcode-scanner>
				<!-- Barcode Input -->
			</td>
			<td colspan="3">
				<!-- Manual Item Button -->
				<add-manual-item class="col-md-2" add-item="addManualItem(item)"></add-manual-item>
				<!-- Manual Item Button -->
			</td>
		</tr>
		<tr>
			<th>Name</th>
			<th>Price</th>
			<th>Quantity</th>
			<th>Total</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="product in cart.products track by $index">
			<td class="col-md-2"> {{ product.name }} </td>
			<td class="col-md-2"> {{ product.price | currency }} </td>
			<td class="col-md-2"> 
				<div class="col-md-10">
					<input type="number" step="1" min="1" class="form-control" ng-model="product.quantity" ng-change="updateCartTotal()" /> 
				</div>	
			</td>
			<td class="col-md-2">
				{{ product.price * product.quantity | currency }}
			</td>
			<td class="col-md-2">
				<button class="btn btn-danger" ng-click="removeProductFromCart($index)">
					<i class="glyphicon glyphicon-remove"></i>
				</button>
			</td>
		</tr>
		<tr ng-if="!cart.products.length">
			<td colspan="5">Scan products or add unlisted item above.</td>
		</tr>
	</tbody>	
</table>